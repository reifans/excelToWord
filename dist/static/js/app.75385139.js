(function(e){function t(t){for(var r,a,s=t[0],u=t[1],i=t[2],d=0,p=[];d<s.length;d++)a=s[d],n[a]&&p.push(n[a][0]),n[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);c&&c(t);while(p.length)p.shift()();return l.push.apply(l,i||[]),o()}function o(){for(var e,t=0;t<l.length;t++){for(var o=l[t],r=!0,s=1;s<o.length;s++){var u=o[s];0!==n[u]&&(r=!1)}r&&(l.splice(t--,1),e=a(a.s=o[0]))}return e}var r={},n={app:0},l=[];function a(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=r,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(o,r,function(t){return e[t]}.bind(null,r));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var c=u;l.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";var r=o("64a9"),n=o.n(r);n.a},"56d7":function(e,t,o){"use strict";o.r(t);o("cadf"),o("551c"),o("f751"),o("097d");var r=o("2b0e"),n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},l=[],a={name:"App"},s=a,u=(o("034f"),o("2877")),i=Object(u["a"])(s,n,l,!1,null,null,null),c=i.exports,d=o("5c96"),p=o.n(d),f=(o("0fae"),o("8c4f")),m=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal"},on:{select:e.handleSelect}},[o("el-menu-item",{attrs:{index:"1"}},[o("router-link",{staticClass:"item",attrs:{to:"/exceltoword"}},[e._v("ExcelToWord")])],1),o("el-menu-item",{attrs:{index:"2",disabled:""}},[e._v("充值中心")]),o("el-menu-item",{attrs:{index:"3"}},[e._v("退出登录")])],1),o("div",{staticClass:"line"}),o("div",[o("router-view")],1)],1)},v=[],h=(o("a481"),{data:function(){return{activeIndex:"1"}},methods:{handleSelect:function(e,t){switch(console.log(e),console.log(t),e){case"3":console.log("退出登陆"),this.$root.userId=null,localStorage.removeItem("userId"),console.log("执行路由跳转"),this.$router.replace("/login");break}}}}),g=h,b=(o("ee90"),Object(u["a"])(g,m,v,!1,null,null,null)),_=b.exports,x=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-card",{staticClass:"box-card"},[o("h2",[e._v("登录")]),o("el-form",{ref:"ruleForm",staticClass:"login-from",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-position":"left","label-width":"70px"}},[o("el-form-item",{attrs:{label:"用户名",prop:"uname"}},[o("el-input",{model:{value:e.ruleForm.uname,callback:function(t){e.$set(e.ruleForm,"uname",t)},expression:"ruleForm.uname"}})],1),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1)],1),o("div",{staticClass:"btnGroup"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("登录")]),o("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")]),o("el-button",{on:{click:function(t){return e.register("ruleForm")}}},[e._v("注册")])],1)],1)],1)},w=[],y={data:function(){return{ruleForm:{uname:"",password:""},rules:{uname:[{required:!0,message:"用户名不能为空！",trigger:"blur"}],password:[{required:!0,message:"密码不能为空！",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.$root.userId=1,localStorage.setItem("userId",1),console.log("执行路由跳转"),t.$router.push("/")})},register:function(e){console.log("注册")},resetForm:function(e){this.$refs[e].resetFields()}}},F=y,$=(o("aa0f"),Object(u["a"])(F,x,w,!1,null,"1d0ea7a7",null)),E=$.exports,k=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-upload",{staticClass:"upload-excel",attrs:{action:e.$root.api.upload_excel,"show-file-list":!1,"before-upload":e.beforeUploadExcel},on:{success:e.handleExcelSuccess}},[o("i",{staticClass:"el-icon-upload"}),o("div",{staticClass:"el-upload__text"},[e._v("将 Excel 文件拖拽到此处，或点击上传")])])],1),o("el-col",{attrs:{span:12}},[o("el-upload",{staticClass:"upload-word",attrs:{action:e.$root.api.upload_word,"show-file-list":!1,"before-upload":e.beforeUploadWord},on:{success:e.handleWordSuccess}},[o("i",{staticClass:"el-icon-upload"}),o("div",{staticClass:"el-upload__text"},[e._v("将 Word 文件拖拽到此处，或点击上传")])])],1)],1),o("el-button",{attrs:{type:"primary",disabled:!e.isUploadButtonEnabled},on:{click:e.handleUpload}},[e._v("\n\t\t上传文件\n\t")])],1)},S=[],O={data:function(){return{excelFile:null,wordFile:null}},computed:{isUploadButtonEnabled:function(){return null!==this.excelFile&&null!==this.wordFile}},methods:{beforeUploadExcel:function(e){var t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type;return t||this.$message.error("只能上传Excel文件"),t},beforeUploadWord:function(e){var t="application/msword"===e.type||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===e.type;return t||this.$message.error("只能上传Word文件"),t},handleExcelSuccess:function(e,t){this.excelFile=t,console.log(t),this.$message.success("Excel 文件上传成功")},handleWordSuccess:function(e,t){this.wordFile=t,console.log(t),this.$message.success("Word 文件上传成功")},handleUpload:function(){this.$message.success("上传成功")}}},j=O,C=(o("a9a6"),Object(u["a"])(j,k,S,!1,null,"4b396606",null)),I=C.exports;r["default"].config.productionTip=!1,r["default"].use(p.a),r["default"].use(f["a"]),r["default"].mixin({data:function(){return{userId:null,api:{login:"",upload_word:"",upload_excel:"",upload_task_info:"",task_start:"",get_task_info:"",get_down_info:"",get_preview_file:"",download_file:""}}},created:function(){}});var U=new f["a"]({routes:[{path:"/",component:_,redirect:"/exceltoword",children:[{path:"/exceltoword",component:I}]},{path:"/login",component:E}]});U.beforeEach(function(e,t,o){var n=r["default"].prototype.userId,l=localStorage.getItem("userId");console.log(l),l&&(n=l),console.log(n),null==n&&"/login"!==e.path?(console.log("强制跳转注册登录页"),o("/login")):null!=n&&"/login"===e.path?(console.log("重定向到主页"),o("/")):(console.log("放行"),o())}),new r["default"]({router:U,render:function(e){return e(c)}}).$mount("#app")},"58a5":function(e,t,o){},6247:function(e,t,o){},"64a9":function(e,t,o){},a9a6:function(e,t,o){"use strict";var r=o("6247"),n=o.n(r);n.a},aa0f:function(e,t,o){"use strict";var r=o("58a5"),n=o.n(r);n.a},ace0:function(e,t,o){},ee90:function(e,t,o){"use strict";var r=o("ace0"),n=o.n(r);n.a}});
//# sourceMappingURL=app.75385139.js.map